/*C5*/SET SCHEMA PUBLIC
CONNECT USER SA
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C7*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C8*/SET SCHEMA PUBLIC
CONNECT USER SA
/*C7*/alter table Card drop constraint FK1FEF30834AE141
alter table CardItem drop constraint FK357C66370D50CDE
alter table Card_Tag drop constraint FK3614DEB222C70F7
alter table Card_Tag drop constraint FK3614DEB70D50CDE
drop table Card if exists
drop table CardItem if exists
drop table Card_Tag if exists
drop table LocalUser if exists
drop table Tag if exists
create table Card (id bigint generated by default as identity (start with 1), created timestamp, modified timestamp, title varchar(255), user_id bigint, primary key (id))
create table CardItem (id bigint generated by default as identity (start with 1), content varchar(255), itemOrder integer not null, itemType integer, card_id bigint, primary key (id))
create table Card_Tag (Card_id bigint not null, tags_id bigint not null, primary key (Card_id, tags_id), unique (tags_id))
create table LocalUser (id bigint generated by default as identity (start with 1), email varchar(255), nickname varchar(255), openId varchar(255), primary key (id))
create table Tag (id bigint generated by default as identity (start with 1), name varchar(255), systemGenerated bit not null, primary key (id))
alter table Card add constraint FK1FEF30834AE141 foreign key (user_id) references LocalUser
alter table CardItem add constraint FK357C66370D50CDE foreign key (card_id) references Card
alter table Card_Tag add constraint FK3614DEB222C70F7 foreign key (tags_id) references Tag
alter table Card_Tag add constraint FK3614DEB70D50CDE foreign key (Card_id) references Card
SET AUTOCOMMIT FALSE
INSERT INTO LOCALUSER VALUES(1,NULL,'bob','bob@gmail.com')
INSERT INTO LOCALUSER VALUES(2,NULL,'jeff','jef@gmail.com')
INSERT INTO CARD VALUES(1,'2010-07-18 02:00:00.000000000','2010-07-18 02:00:00.000000000','Bob''s card 1',1)
INSERT INTO CARDITEM VALUES(1,'halo halo husto malo\u000a',0,0,1)
INSERT INTO CARDITEM VALUES(2,'buuu muuu\u000a',1,2,1)
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
INSERT INTO LOCALUSER VALUES(3,'romario333@gmail.com','Roman Ma\u0161ek','https://www.google.com/accounts/o8/id?id=AItOawlleNmT5qE20yNiMxrPEe6bdot3dPka8E0')
COMMIT
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
